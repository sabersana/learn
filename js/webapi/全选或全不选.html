<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        table {
            border: 1px solid #000;
            border-collapse:collapse;
            margin: 300px 300px;
        }
        td, th {
            border: 1px solid #000;
            padding: 10px;
        }
    </style>
</head>
<body>
<table>
    <thead>
    <tr>
        <th><input type="checkbox" id="allcheck"></th>
        <th>爱好</th>
    </tr>
    </thead>
    <tbody id="tbd">
    <tr>
        <td><input type="checkbox"></td>
        <td>唱</td>
    </tr>
    <tr>
        <td><input type="checkbox"></td>
        <td>跳</td>
    </tr>
    <tr>
        <td><input type="checkbox"></td>
        <td>rap</td>
    </tr>
    </tbody>
</table>
<script>
    var allcheckobj = document.getElementById("allcheck");
    var somecheckobjs = document.getElementById("tbd").getElementsByTagName("input");
    allcheckobj.onclick = function () {
        var flag = allcheckobj.checked;
        for (var i=0; i<somecheckobjs.length; i++){
            somecheckobjs[i].checked = flag;
        }
    };
    for (var i=0; i<somecheckobjs.length; i++){
        somecheckobjs[i].onclick = function () {
            var flag = true;
            for(var j=0; j<somecheckobjs.length; j++){
                if (!somecheckobjs[j].checked){
                    flag=false;
                    break;
                }
            }
            allcheckobj.checked = flag;
        };
    }
</script>
</body>
</html>